apiVersion: misrecursos.aplicacion/v1alpha4
kind: Aplicacion
metadata:
  name: data-processing-app-2-model-1
spec:
  componentes:
    - name: data-processing-2-exist
      image: ekaitzhara/source-v2:source-exist
      flowConfig:
        previous: none
        next: data-processing-2-assembystation
      kafkaTopic: datos-processing-2-assembly-oee
      customization:
        - "MACHINE_ID=22"
      permanente: False
    - name: data-processing-2-assembystation
      image: ekaitzhara/processing-v2:assembly-station
      flowConfig:
        previous: data-processing-2-exist
        next: data-processing-2-influx     # En este next tendr√≠a que haber dos: Influx y OEEevents
      kafkaTopic: datos-processing-2-assembly-oee
      customization:
        - "KAFKA_INFLUX_TOPIC=datos-processing-2-assembly-oee-influx"
        - "LIMIT=74"
      permanente: True
    - name: data-processing-2-influx
      image: ekaitzhara/sink-v2:sink-influx
      flowConfig:
        previous: data-processing-2-assembystation
        next: none
      kafkaTopic: datos-processing-2-assembly-oee-influx
      permanente: False
#    - name: data-processing-1-oeeevents
#      image: gcr.io/clusterekaitz/application-oee:dataprocessing-oeeevents
#      previous: data-processing-influx
#      next: none
#      permanente: False
  replicas: 1
  desplegar: True